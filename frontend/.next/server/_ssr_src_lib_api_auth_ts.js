"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_api_auth_ts";
exports.ids = ["_ssr_src_lib_api_auth_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/api/auth.ts":
/*!*****************************!*\
  !*** ./src/lib/api/auth.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authAPI: () => (/* binding */ authAPI)\n/* harmony export */ });\n// frontend/src/lib/api/auth.ts\nconst API_BASE_URL = \"http://localhost:8080\" || 0;\nclass AuthAPI {\n    async register(data) {\n        const response = await fetch(`${API_BASE_URL}/auth/register`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.detail || \"Registration failed\");\n        }\n        return response.json();\n    }\n    async login(credentials) {\n        const response = await fetch(`${API_BASE_URL}/auth/login`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.detail || \"Login failed\");\n        }\n        return response.json();\n    }\n    async logout() {\n        try {\n            // Call the backend logout endpoint\n            const token = localStorage.getItem(\"auth_token\");\n            if (token) {\n                await fetch(`${API_BASE_URL}/auth/logout`, {\n                    method: \"POST\",\n                    headers: {\n                        \"Authorization\": `Bearer ${token}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n        } catch (error) {\n            // Even if the backend call fails, still clear the local token\n            console.error(\"Logout error (ignored):\", error);\n        } finally{\n            // Always clear the auth token from localStorage\n            localStorage.removeItem(\"auth_token\");\n        }\n    }\n    isAuthenticated() {\n        // Check if there's a token in localStorage\n        const token = localStorage.getItem(\"auth_token\");\n        return !!token;\n    }\n    getAuthToken() {\n        return localStorage.getItem(\"auth_token\");\n    }\n}\nconst authAPI = new AuthAPI();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2FwaS9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwrQkFBK0I7QUFFL0IsTUFBTUEsZUFBZUMsdUJBQStCLElBQUk7QUF1QnhELE1BQU1HO0lBQ0osTUFBTUMsU0FBU0MsSUFBa0IsRUFBaUI7UUFDaEQsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRVIsYUFBYSxjQUFjLENBQUMsRUFBRTtZQUM1RFMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtZQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNQO1FBQ3ZCO1FBRUEsSUFBSSxDQUFDQyxTQUFTTyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsWUFBWSxNQUFNUixTQUFTUyxJQUFJO1lBQ3JDLE1BQU0sSUFBSUMsTUFBTUYsVUFBVUcsTUFBTSxJQUFJO1FBQ3RDO1FBRUEsT0FBT1gsU0FBU1MsSUFBSTtJQUN0QjtJQUVBLE1BQU1HLE1BQU1DLFdBQTZCLEVBQTBCO1FBQ2pFLE1BQU1iLFdBQVcsTUFBTUMsTUFBTSxDQUFDLEVBQUVSLGFBQWEsV0FBVyxDQUFDLEVBQUU7WUFDekRTLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDTztRQUN2QjtRQUVBLElBQUksQ0FBQ2IsU0FBU08sRUFBRSxFQUFFO1lBQ2hCLE1BQU1DLFlBQVksTUFBTVIsU0FBU1MsSUFBSTtZQUNyQyxNQUFNLElBQUlDLE1BQU1GLFVBQVVHLE1BQU0sSUFBSTtRQUN0QztRQUVBLE9BQU9YLFNBQVNTLElBQUk7SUFDdEI7SUFFQSxNQUFNSyxTQUF3QjtRQUM1QixJQUFJO1lBQ0YsbUNBQW1DO1lBQ25DLE1BQU1DLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztZQUNuQyxJQUFJRixPQUFPO2dCQUNULE1BQU1kLE1BQU0sQ0FBQyxFQUFFUixhQUFhLFlBQVksQ0FBQyxFQUFFO29CQUN6Q1MsUUFBUTtvQkFDUkMsU0FBUzt3QkFDUCxpQkFBaUIsQ0FBQyxPQUFPLEVBQUVZLE1BQU0sQ0FBQzt3QkFDbEMsZ0JBQWdCO29CQUNsQjtnQkFDRjtZQUNGO1FBQ0YsRUFBRSxPQUFPRyxPQUFPO1lBQ2QsOERBQThEO1lBQzlEQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUMzQyxTQUFVO1lBQ1IsZ0RBQWdEO1lBQ2hERixhQUFhSSxVQUFVLENBQUM7UUFDMUI7SUFDRjtJQUVBQyxrQkFBMkI7UUFDekIsMkNBQTJDO1FBQzNDLE1BQU1OLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztRQUNuQyxPQUFPLENBQUMsQ0FBQ0Y7SUFDWDtJQUVBTyxlQUE4QjtRQUM1QixPQUFPTixhQUFhQyxPQUFPLENBQUM7SUFDOUI7QUFDRjtBQUVPLE1BQU1NLFVBQVUsSUFBSTFCLFVBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWZyb250ZW5kLy4vc3JjL2xpYi9hcGkvYXV0aC50cz84ODNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL3NyYy9saWIvYXBpL2F1dGgudHNcblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxuaW50ZXJmYWNlIExvZ2luQ3JlZGVudGlhbHMge1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUmVnaXN0ZXJEYXRhIHtcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIExvZ2luUmVzcG9uc2Uge1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgdG9rZW5fdHlwZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuY2xhc3MgQXV0aEFQSSB7XG4gIGFzeW5jIHJlZ2lzdGVyKGRhdGE6IFJlZ2lzdGVyRGF0YSk6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hdXRoL3JlZ2lzdGVyYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnUmVnaXN0cmF0aW9uIGZhaWxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH1cblxuICBhc3luYyBsb2dpbihjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscyk6IFByb21pc2U8TG9naW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hdXRoL2xvZ2luYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5kZXRhaWwgfHwgJ0xvZ2luIGZhaWxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH1cblxuICBhc3luYyBsb2dvdXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENhbGwgdGhlIGJhY2tlbmQgbG9nb3V0IGVuZHBvaW50XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hdXRoL2xvZ291dGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRXZlbiBpZiB0aGUgYmFja2VuZCBjYWxsIGZhaWxzLCBzdGlsbCBjbGVhciB0aGUgbG9jYWwgdG9rZW5cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvciAoaWdub3JlZCk6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBBbHdheXMgY2xlYXIgdGhlIGF1dGggdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgfVxuICB9XG5cbiAgaXNBdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSB0b2tlbiBpbiBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgcmV0dXJuICEhdG9rZW47XG4gIH1cblxuICBnZXRBdXRoVG9rZW4oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGF1dGhBUEkgPSBuZXcgQXV0aEFQSSgpOyJdLCJuYW1lcyI6WyJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkF1dGhBUEkiLCJyZWdpc3RlciIsImRhdGEiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiRXJyb3IiLCJkZXRhaWwiLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwibG9nb3V0IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXJyb3IiLCJjb25zb2xlIiwicmVtb3ZlSXRlbSIsImlzQXV0aGVudGljYXRlZCIsImdldEF1dGhUb2tlbiIsImF1dGhBUEkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api/auth.ts\n");

/***/ })

};
;